import"../chunks/Bg9kRutz.js";import{p as S,s as p,c as g,f as D,g as i,r as m,a as N,t as I,b as Q,d as X}from"../chunks/DO-sNwcH.js";import{t as k,c as G,a as y}from"../chunks/lqkcHzyT.js";import{d as Z,i as $,m as P,n as ee,o as w,y as Y,P as V,e as B,p as te,q as ae,D as O,a as oe,R as re}from"../chunks/CA7SxNC3.js";import{e as M,i as W,N as ne}from"../chunks/CiBDaKyo.js";import{o as J,a as se,s as ie}from"../chunks/DV48Rr-k.js";import{p as le}from"../chunks/tsC18lbT.js";import{s as C}from"../chunks/D9Bo4rd8.js";import{p as F,i as R}from"../chunks/CXucsld2.js";import{p as q}from"../chunks/Lb3gLO7M.js";import{a as E}from"../chunks/BJy7j8il.js";import{s as de}from"../chunks/CuVvyuch.js";import{I as T}from"../chunks/DZYRfo_j.js";import{d as K}from"../chunks/8rSoxpob.js";import{g as ce}from"../chunks/CL7HX6yz.js";import{T as me}from"../chunks/Dzak4FRR.js";import{i as z}from"../chunks/Ds4SIatg.js";import{N as U,a as ve}from"../chunks/CKQjl_Ij.js";import{a as fe}from"../chunks/BjibBYUr.js";function ue(o){const e=Z(o).getDay();return e===0||e===6}function ge(o,e){const t=e*7;return $(o,t)}function pe(o){const e=P(o),v=+P(ge(e,60))-+e;return Math.round(v/ee)}const he=!1,Ze=Object.freeze(Object.defineProperty({__proto__:null,prerender:he},Symbol.toStringTag,{value:"Module"}));function _e(o,e,t){console.log(o.target.value),e(o.target.value),t()(o.target.value)}var ye=k("<option selected> </option>"),be=k("<option> </option>"),ke=k('<div class="mb-3"><label for="select-day-type" class="form-label">Type of day</label> <select class="form-select" id="select-day-type"></select></div>');function xe(o,e){S(e,!0);let t=F(e,"selected",23,()=>w.Regular),v=F(e,"selectedChange",3,()=>{});var s=ke(),r=p(g(s),2);r.__change=[_e,t,v],M(r,21,()=>w.values(),W,(c,n)=>{var f=G(),h=D(f);{var x=u=>{var a=ye(),l={},_=g(a,!0);m(a),I(b=>{l!==(l=i(n))&&(a.value=(a.__value=i(n))==null?"":i(n)),C(_,b)},[()=>w.toString(i(n))]),y(u,a)},d=u=>{var a=be(),l={},_=g(a,!0);m(a),I(b=>{l!==(l=i(n))&&(a.value=(a.__value=i(n))==null?"":i(n)),C(_,b)},[()=>w.toString(i(n))]),y(u,a)};R(h,u=>{i(n)==t()?u(x):u(d,!1)})}y(c,f)}),m(r),m(s),y(o,s),N()}K(["change"]);var we=(o,e)=>{ce(`/app/year/${e.date.getMonth()}/${e.date.getDate()}/timesheet`)},De=k('<div class="mb-3"><label for="t1" class="form-label">Name</label> <input type="text" class="form-control" id="t1"></div> <!>  <div class="mb-3"><label for="t2" class="form-label">Total Time</label> <input type="text" class="form-control" id="t2" disabled> <button type="button" class="btn btn-outline-secondary mt-3">Switch to timesheet</button></div>',1);function Ie(o,e){S(e,!0);let t=Y.getDay(e.date);function v(){let d=0;for(const u of t.timesheet)d+=me.duration(u);return d}var s=De(),r=D(s),c=p(g(r),2);c.__change=d=>{t.additionalName=d.target.value,V.modified()},m(r);var n=p(r,2);xe(n,{get selected(){return t.dayType},selectedChange:d=>{t.dayType=d,V.modified()}});var f=p(n,2),h=p(g(f),2),x=p(h,2);x.__click=[we,e],m(f),I(d=>{E(c,"placeholder",t.additionalName),E(h,"placeholder",d)},[v]),y(o,s),N()}K(["change","click"]);var Se=k('<div><div class="accordion-item"><h2 class="accordion-header" id="headingOne"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseOne"> </button></h2> <div class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample"><div class="accordion-body"><!></div></div></div></div>');function L(o,e){S(e,!0);const t=T.make(T.lengthForComponents),v=T.make(T.lengthForComponents);let s=Y.getDay(e.date);function r(l){if(z(l))return"dsToday";switch(s.dayType){case w.Holiday:return"dsHoliday"}if(ue(l))return"dsWeekend";switch(s.dayType){case w.Vacation:return"dsVacation";case w.Sick:return"dsSick";case w.SickNoAttest:return"dsSickNoAttest"}return""}J(async()=>{await Q(),window.location.hash=="#today"&&z(e.date)&&(console.log(t),document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center"}))});var c=Se();E(c,"id",t);var n=g(c),f=g(n),h=g(f);E(h,"data-bs-target",`#${v??""}`);var x=g(h);m(h),m(f);var d=p(f,2);E(d,"id",v);var u=g(d),a=g(u);Ie(a,{get date(){return e.date}}),m(u),m(d),m(n),m(c),I((l,_,b)=>{de(c,1,`accordion mb-2 ${l??""}`,"svelte-140uf3"),C(x,`${_??""}. ${b??""} ${(s.additionalName?" - ":"")??""} ${s.additionalName??""}`)},[()=>r(e.date),()=>B(e.date,"d"),()=>B(e.date,"EEEE")]),y(o,c),N()}var Ne=k('<!> <p class="mt-3 d-flex justify-content-center"> </p>',1),Oe=k('<p class="mt-3 d-flex justify-content-center"> </p> <!>',1),Me=k('<h2 class="mb-2 mt-3"></h2> <!> <!> <!>',1);function We(o,e){S(e,!0);const t=te(e.week[0],{weekStartsOn:1,firstWeekContainsDate:4});pe(new Date(Y.rune.yearLiteral,0)),ae(new Date(Y.rune.yearLiteral,0));const v=e.month==0,s=e.month==11;let r=se(q({prefix:!1,days:[]}));e.week.length<7&&ie(r,q(O.getRestDays(e.week)));var c=Me(),n=D(c);n.textContent=`Week ${t??""}`;var f=p(n,2);{var h=a=>{var l=Ne(),_=D(l);M(_,17,()=>i(r).days,W,(H,j)=>{L(H,{get date(){return i(j)},isAdditional:!0})});var b=p(_,2),A=g(b);m(b),I(()=>C(A,`Begin of ${O.MonthNames[e.month]??""}`)),y(a,l)};R(f,a=>{i(r).days.length>0&&i(r).prefix&&!v&&a(h)})}var x=p(f,2);M(x,17,()=>e.week,W,(a,l)=>{L(a,{get date(){return i(l)},isAdditional:!1})});var d=p(x,2);{var u=a=>{var l=Oe(),_=D(l),b=g(_);m(_);var A=p(_,2);M(A,17,()=>i(r).days,W,(H,j)=>{L(H,{get date(){return i(j)},isAdditional:!0})}),I(()=>C(b,`End of ${O.MonthNames[e.month]??""}`)),y(a,l)};R(d,a=>{i(r).days.length>0&&!i(r).prefix&&!s&&a(u)})}y(o,c),N()}var Ee=k('<!> <div class="container mt-3 mb-3"></div>',1);function Ye(o,e){S(e,!0);const t=le.params.month,v=O.getWeeks(new Date(Y.rune.yearLiteral,t));J(async()=>{});var s=Ee(),r=D(s);const c=X(()=>[U.HomeItem(),U.Item("Year",ve.goUp)]);ne(r,{get name(){return O.MonthNames[t]},get navItems(){return i(c)}});var n=p(r,2);M(n,21,()=>v,W,(f,h)=>{We(f,{month:t,get week(){return i(h)}})}),m(n),y(o,s),N()}function $e(o,e){S(e,!0);var t=G(),v=D(t);oe(v,()=>fe.isLoaded(),null,(s,r)=>{Ye(s,{})},(s,r)=>{re(s,{})}),y(o,t),N()}export{$e as component,Ze as universal};
