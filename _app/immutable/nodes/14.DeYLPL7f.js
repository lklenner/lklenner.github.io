import"../chunks/Bg9kRutz.js";import{p as J,s as l,c as a,r as e,a as K,f as Y,g as t,t as F,X as Yt,v as Q,b as Ut,n as Gt}from"../chunks/BUjIT_Mk.js";import{t as D,a as f,c as W,n as Ft}from"../chunks/B9kf_Ie_.js";import{c as R,e as X,i as V,Q as it,h as Jt,D as Tt,y as Dt,j as k,P as Et,o as At,b as Kt,R as Wt}from"../chunks/Dnvx4tmM.js";import{a as Zt}from"../chunks/DqWk7Urd.js";import{a as St,s as $t}from"../chunks/CIwiONnU.js";import{s as h}from"../chunks/BjGBDkgq.js";import{p as Z,i as G}from"../chunks/18K141Sn.js";import{s as M}from"../chunks/LVKOVOzu.js";import{s as qt}from"../chunks/DDCU0q_E.js";import{d as ct}from"../chunks/ChM4DITq.js";import{p as H}from"../chunks/BacJj1fc.js";import{p as nt}from"../chunks/CLolkaei.js";import{g as q}from"../chunks/BwmWtf6n.js";import{N as te}from"../chunks/BXGJI-AL.js";import{_ as ee}from"../chunks/5rqLzJeP.js";import{X as ae}from"../chunks/QGfDcfp-.js";import{N as kt}from"../chunks/C5m1Kr_D.js";import{i as Mt}from"../chunks/Cpw3NQFW.js";const oe=!1,Ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:oe},Symbol.toStringTag,{value:"Module"}));function re(d,i){console.log(d.target.value),i(d.target.value)}var se=D("<option selected> </option>"),le=D("<option> </option>"),ne=D('<div class="row g-2 mb-3"><label for="select-quota-type" class="col-sm-3 col-form-label">Task</label> <div class="col-sm-5"><select class="form-select" id="select-quota-type"></select></div></div>');function ie(d,i){J(i,!0);const r=R.rune[0];let c=Z(i,"selected",31,()=>H(r.name));var v=ne(),_=l(a(v),2),w=a(_);w.__change=[re,c],X(w,21,()=>R.rune,V,(n,b)=>{var L=W(),I=Y(L);{var A=m=>{var u=se(),x={},z=a(u,!0);e(u),F(()=>{x!==(x=t(b).name)&&(u.value=(u.__value=t(b).name)==null?"":t(b).name),h(z,t(b).name)}),f(m,u)},S=m=>{var u=le(),x={},z=a(u,!0);e(u),F(()=>{x!==(x=t(b).name)&&(u.value=(u.__value=t(b).name)==null?"":t(b).name),h(z,t(b).name)}),f(m,u)};G(I,m=>{t(b).name==c()?m(A):m(S,!1)})}f(n,L)}),e(w),e(_),e(v),f(d,v),K()}ct(["change"]);function ce(d,i){console.log(d.target.value),i(d.target.value)}var de=D("<option selected> </option>"),ve=D("<option> </option>"),me=D('<div class="row g-2 mb-3"><label for="select-quota-type" class="col-sm-3 col-form-label">Quota Type</label> <div class="col-sm-5"><select class="form-select" id="select-quota-type"></select></div></div>');function ue(d,i){J(i,!0);let r=Z(i,"selected",31,()=>H(it.Office));var c=me(),v=l(a(c),2),_=a(v);_.__change=[ce,r],X(_,21,()=>it.values(),V,(w,n)=>{var b=W(),L=Y(b);{var I=S=>{var m=de(),u={},x=a(m,!0);e(m),F(()=>{u!==(u=t(n))&&(m.value=(m.__value=t(n))==null?"":t(n)),h(x,t(n))}),f(S,m)},A=S=>{var m=ve(),u={},x=a(m,!0);e(m),F(()=>{u!==(u=t(n))&&(m.value=(m.__value=t(n))==null?"":t(n)),h(x,t(n))}),f(S,m)};G(L,S=>{t(n)==r()?S(I):S(A,!1)})}f(w,b)}),e(_),e(v),e(c),f(d,c),K()}ct(["change"]);var pe=Ft('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"></path></svg>');function be(d,i){let r=Z(i,"size",3,16);var c=pe();F(()=>{M(c,"width",r()),M(c,"height",r())}),f(d,c)}var fe=Ft('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"></path></svg>');function ge(d,i){let r=Z(i,"size",3,16);var c=fe();F(()=>{M(c,"width",r()),M(c,"height",r())}),f(d,c)}function _e(d,i,r,c){const v=document.getElementById("inputStart"),_=document.getElementById("inputEnd");if(!v.reportValidity()||!_.reportValidity())return;const w=v.value,n=_.value,b=k.new(t(i),w,n,t(r),!1);try{k.validate(b)}catch{return}t(c).timesheet.push(b),console.log(b),Et.modified()}function he(d,i){let r=At(t(i),-1);q(`/app/year/${r.getMonth()}/${r.getDate()}/timesheet`)}function ye(d,i){let r=At(t(i),1);q(`/app/year/${r.getMonth()}/${r.getDate()}/timesheet`)}function xe(){q("/app/track")}var we=D('<tr><th scope="row"></th><td> </td><td> </td><td> </td><td><span data-bs-toggle="tooltip" data-bs-placement="bottom"> </span></td><td> </td><td><button type="button" class="btn btn-sm d-flex align-items-center"><!></button></td></tr>'),Te=D('<div class="progress" role="progressbar"><div data-bs-toggle="tooltip" data-bs-placement="bottom"> </div></div>'),De=D('<tr><td> </td><td><span data-bs-toggle="tooltip" data-bs-placement="bottom"> </span></td><td> </td></tr>'),Se=D('<button type="button" class="btn btn-outline-secondary">Switch to Tracking</button>'),$e=D('<!> <div class="container mt-3 mb-3"><h1 class="mt-3 mb-3"> </h1> <ul class="nav nav-tabs" id="myTab" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" id="editor-tab" data-bs-toggle="tab" data-bs-target="#editor-tab-pane" type="button" role="tab">Editor</button></li> <li class="nav-item" role="presentation"><button class="nav-link" id="statistics-tab" data-bs-toggle="tab" data-bs-target="#statistics-tab-pane" type="button" role="tab">Statistics</button></li></ul> <div class="tab-content mb-5"><div class="tab-pane show active" id="editor-tab-pane" role="tabpanel" tabindex="0"><h3 class="mt-5 mb-3">Total time</h3> <input type="text" class="form-control" disabled> <h3 class="mt-5 mb-3">All entries</h3> <table class="table"><thead><tr><th scope="col">#</th><th scope="col">Task</th><th scope="col">Start</th><th scope="col">End</th><th scope="col">Duration</th><th scope="col">Location</th><th scope="col">Action</th></tr></thead><tbody></tbody></table> <h3 class="mt-5 mb-3">Insert new entry</h3> <!> <form novalidate=""><div class="row g-2 mb-3"><label for="inputStart" class="col-sm-3 col-form-label">Start</label> <div class="col-sm-2"><input type="time" id="inputStart" class="form-control"></div></div></form> <div class="row g-2 mb-3"><label for="inputEnd" class="col-sm-3 col-form-label">End</label> <div class="col-sm-2"><input type="time" id="inputEnd" class="form-control"></div></div> <!> <div class="row g-2 mb-3"><label for="inputStart" class="col-sm-3 col-form-label"></label> <div class="col-sm-5"><button type="button" class="btn btn-secondary">Add Entry</button></div></div></div> <div class="tab-pane" id="statistics-tab-pane" role="tabpanel" tabindex="0"><h3 class="mt-5 mb-3">Task distrubiton</h3> <div class="progress-stacked mb-3 border" style="height: 50px"><!></div> <h3 class="mt-5 mb-3">Task summary</h3> <table class="table"><thead><tr><th scope="col">Task</th><th scope="col">Duration</th><th scope="col">Share</th></tr></thead><tbody></tbody></table></div></div> <div class="d-flex justify-content-between"><button type="button" class="btn btn-outline-secondary"><!> <span style="vertical-align: middle;">Previous</span></button> <!> <button type="button" class="btn btn-outline-secondary"><span style="vertical-align: middle;">Next</span> <!></button></div></div>',1);function ke(d,i){J(i,!0);const r=Q(()=>new Date(Dt.rune.yearLiteral,nt.params.month,nt.params.day)),c=["text-bg-primary","text-bg-success","text-bg-danger","text-bg-warning","text-bg-info","text-bg-light","text-bg-dark"];let v=Q(()=>Dt.getDay(t(r))),_=St(H(it.Home)),w=St(H(R.rune[0].name)),n=Q(()=>k.aggregateDurations(t(v).timesheet)),b=Q(()=>{let s=0;for(const o of t(v).timesheet)s+=k.duration(o);return s});Yt(async()=>{t(n),await Ut(),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(o=>new bootstrap.Tooltip(o)),console.log("Enable tooltips")});function L(){q(`/app/year/${nt.params.month}#${t(r).getDate()}`)}function I(s){console.log("Remove:",s),t(v).timesheet=t(v).timesheet.filter((o,p)=>p!=s),Et.modified()}function A(){return Object.values(t(n)).reduce((s,o)=>s+o,0)}function S(s){const o=R.rune.find(g=>g.name==s);let p="";return o!==void 0&&o.color!=="#FFFFFF"&&(p+=`color: ${ee(o.color)};`,p+=`background-color: ${o.color};`),p}function m(s,o){const p=R.rune.find(y=>y.name==s);let g="";return(p===void 0||p.color.toUpperCase()==="#FFFFFF")&&(g=`${c[o%c.length]}`),g}var u=$e(),x=Y(u);const z=Q(()=>[kt.HomeItem(),kt.Item("Days",L)]);te(x,{name:"Timesheet",get navItems(){return t(z)}});var dt=l(x,2),tt=a(dt),Ct=a(tt);e(tt);var et=l(tt,4),at=a(et),vt=l(a(at),2),ot=l(vt,4),mt=l(a(ot));X(mt,21,()=>t(v).timesheet,V,(s,o,p)=>{var g=we(),y=a(g);y.textContent=p+1;var E=l(y),$=a(E,!0);e(E);var T=l(E),N=a(T,!0);e(T);var C=l(T),P=a(C,!0);e(C);var O=l(C),j=a(O),zt=a(j,!0);e(j),e(O);var st=l(O),Bt=a(st,!0);e(st);var wt=l(st),lt=a(wt);lt.__click=()=>{I(p)};var Pt=a(lt);ae(Pt,{colorStyle:"text-danger"}),e(lt),e(wt),e(g),F((Qt,Rt,Xt,Vt)=>{h($,t(o).taskName),h(N,Qt),h(P,Rt),M(j,"data-bs-title",`${Xt??""} h`),h(zt,Vt),h(Bt,t(o).quotaType)},[()=>k.formatTimespamp(t(o).start),()=>k.formatTimespamp(t(o).end),()=>k.formatDecimalTime(k.duration(t(o))),()=>Math.round(k.duration(t(o))*1e4)/1e4]),f(s,g)}),e(mt),e(ot);var ut=l(ot,4);ie(ut,{get selected(){return t(w)},set selected(s){$t(w,H(s))}});var pt=l(ut,6);ue(pt,{get selected(){return t(_)},set selected(s){$t(_,H(s))}});var bt=l(pt,2),ft=l(a(bt),2),Ot=a(ft);Ot.__click=[_e,w,_,v],e(ft),e(bt),e(at);var gt=l(at,2),rt=l(a(gt),2),jt=a(rt);{var Lt=s=>{var o=W(),p=Y(o);X(p,17,()=>Object.keys(t(n)).sort(),V,(g,y,E)=>{var $=Te(),T=a($),N=a(T,!0);e(T),e($),F((C,P,O,j)=>{M($,"style",`width: ${C??""}%; height: 50px;`),qt(T,1,`progress-bar ${P??""}`),M(T,"style",O),M(T,"data-bs-title",`${t(y)??""}: ${j??""}%`),h(N,t(y))},[()=>t(n)[t(y)]/A()*100,()=>m(t(y),E),()=>S(t(y)),()=>Math.round(t(n)[t(y)]/A()*1e4)/100]),f(g,$)}),f(s,o)};G(jt,s=>{Object.keys(t(n)).length>0&&s(Lt)})}e(rt);var _t=l(rt,4),ht=l(a(_t));X(ht,21,()=>Object.keys(t(n)).sort(),V,(s,o)=>{var p=De(),g=a(p),y=a(g,!0);e(g);var E=l(g),$=a(E),T=a($,!0);e($),e(E);var N=l(E),C=a(N);e(N),e(p),F((P,O,j)=>{h(y,t(o)),M($,"data-bs-title",`${P??""} h`),h(T,O),h(C,`${j??""}%`)},[()=>k.formatDecimalTime(Math.round(t(n)[t(o)]*100)/100),()=>Math.round(t(n)[t(o)]*100)/100,()=>Math.round(t(n)[t(o)]/A()*1e4)/100]),f(s,p)}),e(ht),e(_t),e(gt),e(et);var yt=l(et,2),B=a(yt);B.__click=[he,r];var Nt=a(B);be(Nt,{}),Gt(2),e(B);var xt=l(B,2);{var Ht=s=>{var o=Se();o.__click=[xe],f(s,o)};G(xt,s=>{Mt(t(r))&&s(Ht)})}var U=l(xt,2);U.__click=[ye,r];var It=l(a(U),2);ge(It,{}),e(U),e(yt),e(dt),F((s,o,p,g)=>{h(Ct,`Timesheet for ${s??""}${o??""}.`),M(vt,"placeholder",t(b)),B.disabled=p,U.disabled=g},[()=>Jt(t(r),"E dd MMMM yyyy"),()=>Mt(t(r))?" (Today)":"",()=>Tt.isFirstDayOfYear(t(r)),()=>Tt.isLastDayOfYear(t(r))]),f(d,u),K()}ct(["click"]);function Ge(d,i){J(i,!0);var r=W(),c=Y(r);Kt(c,()=>Zt.isLoaded(),null,(v,_)=>{ke(v,{})},v=>{Wt(v,{})}),f(d,r),K()}export{Ge as component,Ue as universal};
