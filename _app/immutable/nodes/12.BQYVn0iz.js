import"../chunks/Bg9kRutz.js";import{t as w,p as W,c as e,s as n,n as T,r as a,a as X,f as Z}from"../chunks/DxIxdwJJ.js";import{n as M,a as c,t as $,e as ce,c as ve}from"../chunks/ZBGWEsqd.js";import{d as pe,f as me,P as b,S as ue,j as fe,k as R,Y as he,D as be,l as ge,s as U,y as G,t as f,a as we,R as ye}from"../chunks/CIDEEFTv.js";import{a as g,S as _e}from"../chunks/3wMF4q86.js";import{s as Se}from"../chunks/CBNDWGhJ.js";import{p as v,i as Fe}from"../chunks/CNQ8E8sm.js";import{d as xe}from"../chunks/CHGbQ8eI.js";import{o as ke}from"../chunks/asY5pKAJ.js";import{g as q}from"../chunks/DcGapuE8.js";import{T as h}from"../chunks/B46hv7NI.js";import{a as p}from"../chunks/CcgQRso9.js";function Q(l){return pe(l).getFullYear()}var ze=M('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16"><path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707z"></path><path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"></path></svg>');function Te(l,i){let s=v(i,"size",3,16);v(i,"colorStyle",3,"");var o=ze();w(()=>{p(o,"width",s()),p(o,"height",s())}),c(l,o)}var Me=M('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708z"></path><path d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"></path></svg>');function Ae(l,i){let s=v(i,"size",3,16);v(i,"colorStyle",3,"");var o=Me();w(()=>{p(o,"width",s()),p(o,"height",s())}),c(l,o)}var Ce=M('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"></path></svg>');function Le(l,i){let s=v(i,"size",3,16);v(i,"colorStyle",3,"");var o=Ce();w(()=>{p(o,"width",s()),p(o,"height",s())}),c(l,o)}async function De(l,i){const s=localStorage.getItem(b.localStorageSaveKey);s&&i(s)}var Ie=$('<p>Successfully found a timesheet.</p> <button type="button" class="btn btn-outline-secondary flex-fill" style="width: 7rem;">Import</button>',1),Be=$(`<div class="container my-5"><div class="row p-4 pb-0 pt-lg-5 align-items-center rounded-3 border shadow-lg"><div class="col pb-0 ps-lg-5 pe-lg-5 pt-lg-3"><h1 class="display-4 fw-bold lh-1 text-body-emphasis mb-5">Let's get you started</h1> <div class="accordion" id="accordionExample"><div class="accordion-item"><h2 class="accordion-header"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"><div class="d-flex align-items-center"><!> <div><span class="lead h6 ms-4">Import timesheet from save file</span></div></div></button></h2> <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample"><div class="accordion-body"><p>Select the JSON file storing the timesheet. The file must be initially obtained by creating a new timesheet and saving it after any modification.</p> <div class="mt-3 mb-3" style="max-width: 30rem;"><input class="form-control" type="file" id="formFile"></div> <button type="button" class="btn btn-outline-secondary flex-fill" style="width: 7rem;">Import</button></div></div></div> <div class="accordion-item"><h2 class="accordion-header"><button class="accordion-button collapsed lead display-4" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"><div class="d-flex align-items-center"><!> <div><span class="lead h6 ms-4">Import timesheet from browser storage</span></div></div></button></h2> <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample"><div class="accordion-body"><!></div></div></div> <div class="accordion-item"><h2 class="accordion-header"><button class="accordion-button collapsed lead display-6" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree"><div class="d-flex align-items-center"><!> <div><span class="lead h6 ms-4">Create new timesheet</span></div></div></button></h2> <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample"><div class="accordion-body"><p>A new timesheet is created and loaded into the browser storage.</p> <button type="button" class="btn btn-outline-secondary flex-fill" style="width: 7rem;">New</button></div></div></div></div> <div class="mt-4 mb-3 text-body-secondary d-flex justify-content-center"> </div></div></div></div>`);function Ve(l,i){W(i,!0);const{saveAs:s}=me;function o(){const r=new Date,t=R.new();t.settings=fe.new(),t.year=he.new(Q(r));const d=be.getAllDaysOfYear(Q(r));for(const de of d)t.year.days.push(ge.empty(de));t.tasks=[h.new("Pause",!1,!0,"#FFFFFF"),h.new("TaskA",!1,!1,"#FFFFFF"),h.new("TaskB",!1,!1,"#FFFFFF"),h.new("TaskC",!1,!1,"#FFFFFF")],U.rune=t.settings,G.rune=t.year,f.rune=f.rune.concat(t.tasks),b.saveToLocalStorage(t),g.rune.loaded=!0,q("/app")}async function m(){const r=document.getElementById("formFile");if(r.files.length>0){const d=await r.files[0].text();u(d)}g.rune.modified=_e.Saved}async function u(r){const t=JSON.parse(r);console.log(t);const d=R.import(t);U.rune=d.settings,G.rune=d.year,f.rune=f.rune.concat(d.tasks),b.saveToLocalStorage(),g.rune.loaded=!0,q("/app")}ke(()=>{window.onbeforeunload=function(){return"Are you sure you want to navigate away?"}});var y=Be(),A=e(y),C=e(A),_=n(e(C),2),S=e(_),F=e(S),L=e(F),D=e(L),ee=e(D);Te(ee,{size:"20"}),T(2),a(D),a(L),a(F);var I=n(F,2),B=e(I),ae=n(e(B),4);ae.__click=m,a(B),a(I),a(S);var x=n(S,2),k=e(x),V=e(k),Y=e(V),te=e(Y);Ae(te,{size:"20"}),T(2),a(Y),a(V),a(k);var E=n(k,2),O=e(E),se=e(O);{var oe=r=>{var t=Ie(),d=n(Z(t),2);d.__click=[De,u],c(r,t)},ie=r=>{var t=ce("There is no timesheet stored in the browser. You must either load a timesheet from a file or create a new one.");c(r,t)};Fe(se,r=>{localStorage.getItem(b.localStorageSaveKey)?r(oe):r(ie,!1)})}a(O),a(E),a(x);var H=n(x,2),z=e(H),N=e(z),P=e(N),re=e(P);Le(re,{size:"20"}),T(2),a(P),a(N),a(z);var j=n(z,2),J=e(j),le=n(e(J),2);le.__click=o,a(J),a(j),a(H),a(_);var K=n(_,2),ne=e(K);a(K),a(C),a(A),a(y),w(()=>Se(ne,`v${ue.constants.version}`)),c(l,y),X()}xe(["click"]);function qe(l,i){W(i,!0);var s=ve(),o=Z(s);we(o,()=>g.isGo(),null,(m,u)=>{Ve(m,{})},(m,u)=>{ye(m,{})}),c(l,s),X()}export{qe as component};
