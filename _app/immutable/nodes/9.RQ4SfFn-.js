import"../chunks/Bg9kRutz.js";import{p as O,s as h,c as g,f as w,g as i,r as f,a as I,t as S,b as U}from"../chunks/DxIxdwJJ.js";import{t as k,c as J,a as _}from"../chunks/ZBGWEsqd.js";import{b as X,e as Z,k as $,l as H,m as P,n as ee,o as x,y as C,P as V,c as B,p as te,q as ae,D as N,a as oe,R as re}from"../chunks/j4_4lskl.js";import{e as M,i as W}from"../chunks/lG1nzOo9.js";import{o as K,a as ne,s as se}from"../chunks/asY5pKAJ.js";import{p as ie}from"../chunks/C5jNMZ4d.js";import{N as le}from"../chunks/Cxfowxza.js";import{s as Y}from"../chunks/CBNDWGhJ.js";import{p as q,i as F}from"../chunks/CNQ8E8sm.js";import{p as z}from"../chunks/DX5c2CDw.js";import{a as E}from"../chunks/CcgQRso9.js";import{s as de}from"../chunks/Dqg-VxYc.js";import{I as T}from"../chunks/DZYRfo_j.js";import{d as Q}from"../chunks/CHGbQ8eI.js";import{g as ce}from"../chunks/B-Oc13yR.js";import{T as me}from"../chunks/BrEmoiAG.js";import{a as fe}from"../chunks/D9c1vjjh.js";function ve(t){const e=X(t).getDay();return e===0||e===6}function ue(t,e){const a=e*7;return Z(t,a)}function ge(t){return $(t,Date.now())}function he(t,e){const a=H(t),d=H(e);return+a==+d}function ye(t){const e=P(t),d=+P(ue(e,60))-+e;return Math.round(d/ee)}function G(t){return he(t,ge(t))}const _e=!1,Ze=Object.freeze(Object.defineProperty({__proto__:null,prerender:_e},Symbol.toStringTag,{value:"Module"}));function pe(t,e,a){console.log(t.target.value),e(t.target.value),a()(t.target.value)}var be=k("<option selected> </option>"),ke=k("<option> </option>"),De=k('<div class="mb-3"><label for="select-day-type" class="form-label">Type of day</label> <select class="form-select" id="select-day-type"></select></div>');function xe(t,e){O(e,!0);let a=q(e,"selected",23,()=>x.Regular),d=q(e,"selectedChange",3,()=>{});var n=De(),r=h(g(n),2);r.__change=[pe,a,d],M(r,21,()=>x.values(),W,(c,s)=>{var v=J(),p=w(v);{var D=u=>{var o=be(),l={},y=g(o,!0);f(o),S(b=>{l!==(l=i(s))&&(o.value=(o.__value=i(s))==null?"":i(s)),Y(y,b)},[()=>x.toString(i(s))]),_(u,o)},m=u=>{var o=ke(),l={},y=g(o,!0);f(o),S(b=>{l!==(l=i(s))&&(o.value=(o.__value=i(s))==null?"":i(s)),Y(y,b)},[()=>x.toString(i(s))]),_(u,o)};F(p,u=>{i(s)==a()?u(D):u(m,!1)})}_(c,v)}),f(r),f(n),_(t,n),I()}Q(["change"]);var we=(t,e)=>{ce(`/app/year/${e.date.getMonth()}/${e.date.getDate()}/timesheet`)},Se=k('<div class="mb-3"><label for="t1" class="form-label">Name</label> <input type="text" class="form-control" id="t1"></div> <!>  <div class="mb-3"><label for="t2" class="form-label">Total Time</label> <input type="text" class="form-control" id="t2" disabled> <button type="button" class="btn btn-outline-secondary mt-3">Switch to timesheet</button></div>',1);function Oe(t,e){O(e,!0);let a=C.getDay(e.date);function d(){let m=0;for(const u of a.timesheet)m+=me.duration(u);return m}var n=Se(),r=w(n),c=h(g(r),2);c.__change=m=>{a.additionalName=m.target.value,V.modified()},f(r);var s=h(r,2);xe(s,{get selected(){return a.dayType},selectedChange:m=>{a.dayType=m,V.modified()}});var v=h(s,2),p=h(g(v),2),D=h(p,2);D.__click=[we,e],f(v),S(m=>{E(c,"placeholder",a.additionalName),E(p,"placeholder",m)},[d]),_(t,n),I()}Q(["change","click"]);var Ie=k('<div><div class="accordion-item"><h2 class="accordion-header" id="headingOne"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseOne"> </button></h2> <div class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample"><div class="accordion-body"><!></div></div></div></div>');function j(t,e){O(e,!0);const a=T.make(T.lengthForComponents),d=T.make(T.lengthForComponents);let n=C.getDay(e.date);function r(l){if(G(l))return"dsToday";switch(n.dayType){case x.Holiday:return"dsHoliday"}if(ve(l))return"dsWeekend";switch(n.dayType){case x.Vacation:return"dsVacation";case x.Sick:return"dsSick";case x.SickNoAttest:return"dsSickNoAttest"}return""}K(async()=>{await U(),window.location.hash=="#today"&&G(e.date)&&(console.log(a),document.getElementById(a).scrollIntoView({behavior:"smooth",block:"center"}))});var c=Ie();E(c,"id",a);var s=g(c),v=g(s),p=g(v);E(p,"data-bs-target",`#${d??""}`);var D=g(p);f(p),f(v);var m=h(v,2);E(m,"id",d);var u=g(m),o=g(u);Oe(o,{get date(){return e.date}}),f(u),f(m),f(s),f(c),S((l,y,b)=>{de(c,1,`accordion mb-2 ${l??""}`,"svelte-140uf3"),Y(D,`${y??""}. ${b??""} ${(n.additionalName?" - ":"")??""} ${n.additionalName??""}`)},[()=>r(e.date),()=>B(e.date,"d"),()=>B(e.date,"EEEE")]),_(t,c),I()}var Ne=k('<!> <p class="mt-3 d-flex justify-content-center"> </p>',1),Me=k('<p class="mt-3 d-flex justify-content-center"> </p> <!>',1),We=k('<h2 class="mb-2 mt-3"></h2> <!> <!> <!>',1);function Ee(t,e){O(e,!0);const a=te(e.week[0],{weekStartsOn:1,firstWeekContainsDate:4});ye(new Date(C.rune.yearLiteral,0)),ae(new Date(C.rune.yearLiteral,0));const d=e.month==0,n=e.month==11;let r=ne(z({prefix:!1,days:[]}));e.week.length<7&&se(r,z(N.getRestDays(e.week)));var c=We(),s=w(c);s.textContent=`Week ${a??""}`;var v=h(s,2);{var p=o=>{var l=Ne(),y=w(l);M(y,17,()=>i(r).days,W,(L,R)=>{j(L,{get date(){return i(R)},isAdditional:!0})});var b=h(y,2),A=g(b);f(b),S(()=>Y(A,`Begin of ${N.MonthNames[e.month]??""}`)),_(o,l)};F(v,o=>{i(r).days.length>0&&i(r).prefix&&!d&&o(p)})}var D=h(v,2);M(D,17,()=>e.week,W,(o,l)=>{j(o,{get date(){return i(l)},isAdditional:!1})});var m=h(D,2);{var u=o=>{var l=Me(),y=w(l),b=g(y);f(y);var A=h(y,2);M(A,17,()=>i(r).days,W,(L,R)=>{j(L,{get date(){return i(R)},isAdditional:!0})}),S(()=>Y(b,`End of ${N.MonthNames[e.month]??""}`)),_(o,l)};F(m,o=>{i(r).days.length>0&&!i(r).prefix&&!n&&o(u)})}_(t,c),I()}var Ce=k('<!> <div class="container mt-3 mb-3"></div>',1);function Ye(t,e){O(e,!0);const a=ie.params.month,d=N.getWeeks(new Date(C.rune.yearLiteral,a));K(async()=>{});var n=Ce(),r=w(n);le(r,{get name(){return N.MonthNames[a]}});var c=h(r,2);M(c,21,()=>d,W,(s,v)=>{Ee(s,{month:a,get week(){return i(v)}})}),f(c),_(t,n),I()}function $e(t,e){O(e,!0);var a=J(),d=w(a);oe(d,()=>fe.isLoaded(),null,(n,r)=>{Ye(n,{})},(n,r)=>{re(n,{})}),_(t,a),I()}export{$e as component,Ze as universal};
