import"../chunks/Bg9kRutz.js";import{t as g,p as Q,c as a,s as n,n as k,r as e,a as W,f as X}from"../chunks/DxIxdwJJ.js";import{n as M,a as v,t as Z,e as ca,c as da}from"../chunks/ZBGWEsqd.js";import{b as va,f as pa,P as b,S as ma,h as ua,i as K,Y as fa,D as ha,j as ba,s as R,y as U,t as f,a as ga,R as wa}from"../chunks/j4_4lskl.js";import{a as z}from"../chunks/D9c1vjjh.js";import{s as ya}from"../chunks/CBNDWGhJ.js";import{p,i as _a}from"../chunks/CNQ8E8sm.js";import{d as Fa}from"../chunks/CHGbQ8eI.js";import{o as Sa}from"../chunks/asY5pKAJ.js";import{g as G}from"../chunks/B-Oc13yR.js";import{T as h}from"../chunks/B46hv7NI.js";import{a as m}from"../chunks/CcgQRso9.js";function q(r){return va(r).getFullYear()}var xa=M('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16"><path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707z"></path><path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"></path></svg>');function ka(r,s){let t=p(s,"size",3,16);p(s,"colorStyle",3,"");var o=xa();g(()=>{m(o,"width",t()),m(o,"height",t())}),v(r,o)}var za=M('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708z"></path><path d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"></path></svg>');function Ma(r,s){let t=p(s,"size",3,16);p(s,"colorStyle",3,"");var o=za();g(()=>{m(o,"width",t()),m(o,"height",t())}),v(r,o)}var Ta=M('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"></path></svg>');function Aa(r,s){let t=p(s,"size",3,16);p(s,"colorStyle",3,"");var o=Ta();g(()=>{m(o,"width",t()),m(o,"height",t())}),v(r,o)}async function Ca(r,s){const t=document.getElementById("formFile");if(t.files.length>0){const c=await t.files[0].text();s(c)}}async function La(r,s){const t=localStorage.getItem(b.localStorageSaveKey);t&&s(t)}var Da=Z('<p>Successfully found a timesheet.</p> <button type="button" class="btn btn-outline-secondary flex-fill" style="width: 7rem;">Import</button>',1),Ia=Z(`<div class="container my-5"><div class="row p-4 pb-0 pt-lg-5 align-items-center rounded-3 border shadow-lg"><div class="col pb-0 ps-lg-5 pe-lg-5 pt-lg-3"><h1 class="display-4 fw-bold lh-1 text-body-emphasis mb-5">Let's get you started</h1> <div class="accordion" id="accordionExample"><div class="accordion-item"><h2 class="accordion-header"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"><div class="d-flex align-items-center"><!> <div><span class="lead h6 ms-4">Import timesheet from save file</span></div></div></button></h2> <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample"><div class="accordion-body"><p>Select the JSON file storing the timesheet. The file must be initially obtained by creating a new timesheet and saving it after any modification.</p> <div class="mt-3 mb-3" style="max-width: 30rem;"><input class="form-control" type="file" id="formFile"></div> <button type="button" class="btn btn-outline-secondary flex-fill" style="width: 7rem;">Import</button></div></div></div> <div class="accordion-item"><h2 class="accordion-header"><button class="accordion-button collapsed lead display-4" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"><div class="d-flex align-items-center"><!> <div><span class="lead h6 ms-4">Import timesheet from browser storage</span></div></div></button></h2> <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample"><div class="accordion-body"><!></div></div></div> <div class="accordion-item"><h2 class="accordion-header"><button class="accordion-button collapsed lead display-6" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree"><div class="d-flex align-items-center"><!> <div><span class="lead h6 ms-4">Create new timesheet</span></div></div></button></h2> <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample"><div class="accordion-body"><p>A new timesheet is created and loaded into the browser storage.</p> <button type="button" class="btn btn-outline-secondary flex-fill" style="width: 7rem;">New</button></div></div></div></div> <div class="mt-4 mb-3 text-body-secondary d-flex justify-content-center"> </div></div></div></div>`);function Ba(r,s){Q(s,!0);const{saveAs:t}=pa;function o(){const l=new Date,i=K.new();i.settings=ua.new(),i.year=fa.new(q(l));const d=ha.getAllDaysOfYear(q(l));for(const na of d)i.year.days.push(ba.empty(na));i.tasks=[h.new("Pause",!1,!0,"#FFFFFF"),h.new("TaskA",!1,!1,"#FFFFFF"),h.new("TaskB",!1,!1,"#FFFFFF"),h.new("TaskC",!1,!1,"#FFFFFF")],R.rune=i.settings,U.rune=i.year,f.rune=f.rune.concat(i.tasks),b.saveToLocalStorage(),z.rune.loaded=!0,G("/app")}async function c(l){const i=JSON.parse(l);console.log(i);const d=K.import(i);R.rune=d.settings,U.rune=d.year,f.rune=f.rune.concat(d.tasks),b.saveToLocalStorage(),z.rune.loaded=!0,G("/app")}Sa(()=>{window.onbeforeunload=function(){return"Are you sure you want to navigate away?"}});var u=Ia(),T=a(u),A=a(T),w=n(a(A),2),y=a(w),_=a(y),C=a(_),L=a(C),$=a(L);ka($,{size:"20"}),k(2),e(L),e(C),e(_);var D=n(_,2),I=a(D),aa=n(a(I),4);aa.__click=[Ca,c],e(I),e(D),e(y);var F=n(y,2),S=a(F),B=a(S),V=a(B),ea=a(V);Ma(ea,{size:"20"}),k(2),e(V),e(B),e(S);var Y=n(S,2),E=a(Y),ta=a(E);{var sa=l=>{var i=Da(),d=n(X(i),2);d.__click=[La,c],v(l,i)},oa=l=>{var i=ca("There is no timesheet stored in the browser. You must either load a timesheet from a file or create a new one.");v(l,i)};_a(ta,l=>{localStorage.getItem(b.localStorageSaveKey)?l(sa):l(oa,!1)})}e(E),e(Y),e(F);var O=n(F,2),x=a(O),H=a(x),N=a(H),ia=a(N);Aa(ia,{size:"20"}),k(2),e(N),e(H),e(x);var P=n(x,2),j=a(P),ra=n(a(j),2);ra.__click=o,e(j),e(P),e(O),e(w);var J=n(w,2),la=a(J);e(J),e(A),e(T),e(u),g(()=>ya(la,`v${ma.constants.version}`)),v(r,u),W()}Fa(["click"]);function Ga(r,s){Q(s,!0);var t=da(),o=X(t);ga(o,()=>z.isGo(),null,(c,u)=>{Ba(c,{})},(c,u)=>{wa(c,{})}),v(r,t),W()}export{Ga as component};
