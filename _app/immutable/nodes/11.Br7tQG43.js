import"../chunks/Bg9kRutz.js";import{p as J,s as l,c as a,r as e,a as K,f as Y,g as t,t as F,aF as Yt,d as Q,b as qt,n as Gt}from"../chunks/DO-sNwcH.js";import{t as $,a as f,c as U,n as Ft}from"../chunks/lqkcHzyT.js";import{t as R,Q as it,e as Jt,D as Tt,y as $t,P as Et,i as At,a as Kt,R as Ut}from"../chunks/CA7SxNC3.js";import{a as Wt}from"../chunks/BjibBYUr.js";import{a as Dt,s as St}from"../chunks/DV48Rr-k.js";import{s as h}from"../chunks/D9Bo4rd8.js";import{p as W,i as G}from"../chunks/CXucsld2.js";import{e as V,i as X,N as Zt}from"../chunks/CiBDaKyo.js";import{a as k}from"../chunks/BJy7j8il.js";import{s as te}from"../chunks/CuVvyuch.js";import{d as ct}from"../chunks/8rSoxpob.js";import{p as H}from"../chunks/Lb3gLO7M.js";import{p as nt}from"../chunks/tsC18lbT.js";import{g as Z}from"../chunks/CL7HX6yz.js";import{T as M}from"../chunks/Dzak4FRR.js";import{_ as ee}from"../chunks/CmfSzmyj.js";import{X as ae}from"../chunks/CZZR24aS.js";import{N as Mt}from"../chunks/CKQjl_Ij.js";import{i as kt}from"../chunks/Ds4SIatg.js";const oe=!1,Ge=Object.freeze(Object.defineProperty({__proto__:null,prerender:oe},Symbol.toStringTag,{value:"Module"}));function re(d,i){console.log(d.target.value),i(d.target.value)}var se=$("<option selected> </option>"),le=$("<option> </option>"),ne=$('<div class="row g-2 mb-3"><label for="select-quota-type" class="col-sm-3 col-form-label">Task</label> <div class="col-sm-5"><select class="form-select" id="select-quota-type"></select></div></div>');function ie(d,i){J(i,!0);const r=R.rune[0];let c=W(i,"selected",31,()=>H(r.name));var v=ne(),_=l(a(v),2),w=a(_);w.__change=[re,c],V(w,21,()=>R.rune,X,(n,b)=>{var N=U(),I=Y(N);{var A=m=>{var u=se(),x={},z=a(u,!0);e(u),F(()=>{x!==(x=t(b).name)&&(u.value=(u.__value=t(b).name)==null?"":t(b).name),h(z,t(b).name)}),f(m,u)},D=m=>{var u=le(),x={},z=a(u,!0);e(u),F(()=>{x!==(x=t(b).name)&&(u.value=(u.__value=t(b).name)==null?"":t(b).name),h(z,t(b).name)}),f(m,u)};G(I,m=>{t(b).name==c()?m(A):m(D,!1)})}f(n,N)}),e(w),e(_),e(v),f(d,v),K()}ct(["change"]);function ce(d,i){console.log(d.target.value),i(d.target.value)}var de=$("<option selected> </option>"),ve=$("<option> </option>"),me=$('<div class="row g-2 mb-3"><label for="select-quota-type" class="col-sm-3 col-form-label">Quota Type</label> <div class="col-sm-5"><select class="form-select" id="select-quota-type"></select></div></div>');function ue(d,i){J(i,!0);let r=W(i,"selected",31,()=>H(it.Office));var c=me(),v=l(a(c),2),_=a(v);_.__change=[ce,r],V(_,21,()=>it.values(),X,(w,n)=>{var b=U(),N=Y(b);{var I=D=>{var m=de(),u={},x=a(m,!0);e(m),F(()=>{u!==(u=t(n))&&(m.value=(m.__value=t(n))==null?"":t(n)),h(x,t(n))}),f(D,m)},A=D=>{var m=ve(),u={},x=a(m,!0);e(m),F(()=>{u!==(u=t(n))&&(m.value=(m.__value=t(n))==null?"":t(n)),h(x,t(n))}),f(D,m)};G(N,D=>{t(n)==r()?D(I):D(A,!1)})}f(w,b)}),e(_),e(v),e(c),f(d,c),K()}ct(["change"]);var pe=Ft('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"></path></svg>');function be(d,i){let r=W(i,"size",3,16);var c=pe();F(()=>{k(c,"width",r()),k(c,"height",r())}),f(d,c)}var fe=Ft('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"></path></svg>');function ge(d,i){let r=W(i,"size",3,16);var c=fe();F(()=>{k(c,"width",r()),k(c,"height",r())}),f(d,c)}function _e(d,i,r,c){const v=document.getElementById("inputStart"),_=document.getElementById("inputEnd");if(!v.reportValidity()||!_.reportValidity())return;const w=v.value,n=_.value,b=M.new(t(i),w,n,t(r),!1);try{M.validate(b)}catch{return}t(c).timesheet.push(b),console.log(b),Et.modified()}function he(d,i){let r=At(t(i),-1);Z(`/app/year/${r.getMonth()}/${r.getDate()}/timesheet`)}function ye(d,i){let r=At(t(i),1);Z(`/app/year/${r.getMonth()}/${r.getDate()}/timesheet`)}function xe(){Z("/app/track")}var we=$('<tr><th scope="row"></th><td> </td><td> </td><td> </td><td><span data-bs-toggle="tooltip" data-bs-placement="bottom"> </span></td><td> </td><td><button type="button" class="btn btn-sm d-flex align-items-center"><!></button></td></tr>'),Te=$('<div class="progress" role="progressbar"><div data-bs-toggle="tooltip" data-bs-placement="bottom"> </div></div>'),$e=$('<tr><td> </td><td><span data-bs-toggle="tooltip" data-bs-placement="bottom"> </span></td><td> </td></tr>'),De=$('<button type="button" class="btn btn-outline-secondary">Switch to tracking</button>'),Se=$('<!> <div class="container mt-3 mb-3"><h1 class="mt-3 mb-3"> </h1> <ul class="nav nav-tabs" id="myTab" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" id="editor-tab" data-bs-toggle="tab" data-bs-target="#editor-tab-pane" type="button" role="tab">Editor</button></li> <li class="nav-item" role="presentation"><button class="nav-link" id="statistics-tab" data-bs-toggle="tab" data-bs-target="#statistics-tab-pane" type="button" role="tab">Statistics</button></li></ul> <div class="tab-content mb-5"><div class="tab-pane show active" id="editor-tab-pane" role="tabpanel" tabindex="0"><h3 class="mt-5 mb-3">Total time</h3> <input type="text" class="form-control" disabled> <h3 class="mt-5 mb-3">All entries</h3> <table class="table"><thead><tr><th scope="col">#</th><th scope="col">Task</th><th scope="col">Start</th><th scope="col">End</th><th scope="col">Duration</th><th scope="col">Location</th><th scope="col">Action</th></tr></thead><tbody></tbody></table> <h3 class="mt-5 mb-3">Insert new entry</h3> <!> <form novalidate=""><div class="row g-2 mb-3"><label for="inputStart" class="col-sm-3 col-form-label">Start</label> <div class="col-sm-5"><input type="text" id="inputStart" class="form-control" required pattern="^(([0-1]?\\d)|(2[0-3])):[0-5]\\d$"></div></div></form> <div class="row g-2 mb-3"><label for="inputEnd" class="col-sm-3 col-form-label">End</label> <div class="col-sm-5"><input type="text" id="inputEnd" class="form-control" required pattern="^(([0-1]?\\d)|(2[0-3])):[0-5]\\d$"></div></div> <!> <div class="row g-2 mb-3"><label for="inputStart" class="col-sm-3 col-form-label"></label> <div class="col-sm-5"><button type="button" class="btn btn-secondary">Add Entry</button></div></div></div> <div class="tab-pane" id="statistics-tab-pane" role="tabpanel" tabindex="0"><h3 class="mt-5 mb-3">Task distrubiton</h3> <div class="progress-stacked mb-3 border" style="height: 50px"><!></div> <h3 class="mt-5 mb-3">Task summary</h3> <table class="table"><thead><tr><th scope="col">Task</th><th scope="col">Duration</th><th scope="col">Share</th></tr></thead><tbody></tbody></table></div></div> <div class="d-flex justify-content-between"><button type="button" class="btn btn-outline-secondary"><!> <span style="vertical-align: middle;">Previous</span></button> <!> <button type="button" class="btn btn-outline-secondary"><span style="vertical-align: middle;">Next</span> <!></button></div></div>',1);function Me(d,i){J(i,!0);const r=Q(()=>new Date($t.rune.yearLiteral,nt.params.month,nt.params.day)),c=["text-bg-primary","text-bg-success","text-bg-danger","text-bg-warning","text-bg-info","text-bg-light","text-bg-dark"];let v=Q(()=>$t.getDay(t(r))),_=Dt(H(it.Home)),w=Dt(H(R.rune[0].name)),n=Q(()=>M.aggregateDurations(t(v).timesheet)),b=Q(()=>{let s=0;for(const o of t(v).timesheet)s+=M.duration(o);return s});Yt(async()=>{t(n),await qt(),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(o=>new bootstrap.Tooltip(o)),console.log("Enable tooltips")});function N(){Z(`/app/year/${nt.params.month}`)}function I(s){console.log("Remove:",s),t(v).timesheet=t(v).timesheet.filter((o,p)=>p!=s),Et.modified()}function A(){return Object.values(t(n)).reduce((s,o)=>s+o,0)}function D(s){const o=R.rune.find(g=>g.name==s);let p="";return o!==void 0&&o.color!=="#FFFFFF"&&(p+=`color: ${ee(o.color)};`,p+=`background-color: ${o.color};`),p}function m(s,o){const p=R.rune.find(y=>y.name==s);let g="";return p!==void 0&&p.color==="#FFFFFF"&&(g=`${c[o%c.length]}`),g}var u=Se(),x=Y(u);const z=Q(()=>[Mt.HomeItem(),Mt.Item("Month",N)]);Zt(x,{name:"Timesheet",get navItems(){return t(z)}});var dt=l(x,2),tt=a(dt),Ot=a(tt);e(tt);var et=l(tt,4),at=a(et),vt=l(a(at),2),ot=l(vt,4),mt=l(a(ot));V(mt,21,()=>t(v).timesheet,X,(s,o,p)=>{var g=we(),y=a(g);y.textContent=p+1;var E=l(y),S=a(E,!0);e(E);var T=l(E),j=a(T,!0);e(T);var O=l(T),P=a(O,!0);e(O);var C=l(O),L=a(C),zt=a(L,!0);e(L),e(C);var st=l(C),Bt=a(st,!0);e(st);var wt=l(st),lt=a(wt);lt.__click=()=>{I(p)};var Pt=a(lt);ae(Pt,{colorStyle:"text-danger"}),e(lt),e(wt),e(g),F((Qt,Rt,Vt,Xt)=>{h(S,t(o).taskName),h(j,Qt),h(P,Rt),k(L,"data-bs-title",`${Vt??""} h`),h(zt,Xt),h(Bt,t(o).qType)},[()=>M.formatTimespamp(t(o).start),()=>M.formatTimespamp(t(o).end),()=>M.formatDecimalTime(M.duration(t(o))),()=>Math.round(M.duration(t(o))*1e4)/1e4]),f(s,g)}),e(mt),e(ot);var ut=l(ot,4);ie(ut,{get selected(){return t(w)},set selected(s){St(w,H(s))}});var pt=l(ut,6);ue(pt,{get selected(){return t(_)},set selected(s){St(_,H(s))}});var bt=l(pt,2),ft=l(a(bt),2),Ct=a(ft);Ct.__click=[_e,w,_,v],e(ft),e(bt),e(at);var gt=l(at,2),rt=l(a(gt),2),Lt=a(rt);{var Nt=s=>{var o=U(),p=Y(o);V(p,17,()=>Object.keys(t(n)).sort(),X,(g,y,E)=>{var S=Te(),T=a(S),j=a(T,!0);e(T),e(S),F((O,P,C,L)=>{k(S,"style",`width: ${O??""}%; height: 50px;`),te(T,1,`progress-bar ${P??""}`),k(T,"style",C),k(T,"data-bs-title",`${t(y)??""}: ${L??""}%`),h(j,t(y))},[()=>t(n)[t(y)]/A()*100,()=>m(t(y),E),()=>D(t(y)),()=>Math.round(t(n)[t(y)]/A()*1e4)/100]),f(g,S)}),f(s,o)};G(Lt,s=>{Object.keys(t(n)).length>0&&s(Nt)})}e(rt);var _t=l(rt,4),ht=l(a(_t));V(ht,21,()=>Object.keys(t(n)).sort(),X,(s,o)=>{var p=$e(),g=a(p),y=a(g,!0);e(g);var E=l(g),S=a(E),T=a(S,!0);e(S),e(E);var j=l(E),O=a(j);e(j),e(p),F((P,C,L)=>{h(y,t(o)),k(S,"data-bs-title",`${P??""} h`),h(T,C),h(O,`${L??""}%`)},[()=>M.formatDecimalTime(Math.round(t(n)[t(o)]*100)/100),()=>Math.round(t(n)[t(o)]*100)/100,()=>Math.round(t(n)[t(o)]/A()*1e4)/100]),f(s,p)}),e(ht),e(_t),e(gt),e(et);var yt=l(et,2),B=a(yt);B.__click=[he,r];var jt=a(B);be(jt,{}),Gt(2),e(B);var xt=l(B,2);{var Ht=s=>{var o=De();o.__click=[xe],f(s,o)};G(xt,s=>{kt(t(r))&&s(Ht)})}var q=l(xt,2);q.__click=[ye,r];var It=l(a(q),2);ge(It,{}),e(q),e(yt),e(dt),F((s,o,p,g)=>{h(Ot,`Timesheet for ${s??""}${o??""}.`),k(vt,"placeholder",t(b)),B.disabled=p,q.disabled=g},[()=>Jt(t(r),"E dd MMMM yyyy"),()=>kt(t(r))?" (Today)":"",()=>Tt.isFirstDayOfYear(t(r)),()=>Tt.isLastDayOfYear(t(r))]),f(d,u),K()}ct(["click"]);function Je(d,i){J(i,!0);var r=U(),c=Y(r);Kt(c,()=>Wt.isLoaded(),null,(v,_)=>{Me(v,{})},v=>{Ut(v,{})}),f(d,r),K()}export{Je as component,Ge as universal};
