import"../chunks/Bg9kRutz.js";import{p as G,s as l,c as a,r as e,a as J,f as R,g as t,t as D,aF as Rt,ag as X,b as Vt,n as Xt}from"../chunks/DxIxdwJJ.js";import{t as T,a as f,c as K,n as Dt}from"../chunks/ZBGWEsqd.js";import{t as Q,Q as it,e as Yt,D as wt,y as Tt,P as Mt,i as Ft,a as qt,R as Gt}from"../chunks/CIDEEFTv.js";import{a as Jt}from"../chunks/3wMF4q86.js";import{a as kt,s as St}from"../chunks/asY5pKAJ.js";import{s as g}from"../chunks/CBNDWGhJ.js";import{p as U,i as Y}from"../chunks/CNQ8E8sm.js";import{e as I,i as q}from"../chunks/lG1nzOo9.js";import{a as M}from"../chunks/CcgQRso9.js";import{s as Kt}from"../chunks/Dqg-VxYc.js";import{d as ct}from"../chunks/CHGbQ8eI.js";import{p as N}from"../chunks/DX5c2CDw.js";import{p as nt}from"../chunks/OnErItA2.js";import{g as W}from"../chunks/DcGapuE8.js";import{N as Ut}from"../chunks/DFaO6Fj-.js";import{T as L}from"../chunks/Cfk0PfAc.js";import{_ as Wt}from"../chunks/sf-uOHMi.js";import{X as Zt}from"../chunks/CRd-7pXg.js";import{i as $t}from"../chunks/BZH22qtm.js";const te=!1,Xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:te},Symbol.toStringTag,{value:"Module"}));function ee(d,n){console.log(d.target.value),n(d.target.value)}var ae=T("<option selected> </option>"),oe=T("<option> </option>"),re=T('<div class="row g-2 mb-3"><label for="select-quota-type" class="col-sm-3 col-form-label">Task</label> <div class="col-sm-5"><select class="form-select" id="select-quota-type"></select></div></div>');function se(d,n){G(n,!0);const s=Q.rune[0];let c=U(n,"selected",31,()=>N(s.name));var v=re(),h=l(a(v),2),w=a(h);w.__change=[ee,c],I(w,21,()=>Q.rune,q,(i,b)=>{var j=K(),z=R(j);{var F=u=>{var m=ae(),x={},C=a(m,!0);e(m),D(()=>{x!==(x=t(b).name)&&(m.value=(m.__value=t(b).name)==null?"":t(b).name),g(C,t(b).name)}),f(u,m)},k=u=>{var m=oe(),x={},C=a(m,!0);e(m),D(()=>{x!==(x=t(b).name)&&(m.value=(m.__value=t(b).name)==null?"":t(b).name),g(C,t(b).name)}),f(u,m)};Y(z,u=>{t(b).name==c()?u(F):u(k,!1)})}f(i,j)}),e(w),e(h),e(v),f(d,v),J()}ct(["change"]);function le(d,n){console.log(d.target.value),n(d.target.value)}var ne=T("<option selected> </option>"),ie=T("<option> </option>"),ce=T('<div class="row g-2 mb-3"><label for="select-quota-type" class="col-sm-3 col-form-label">Quota Type</label> <div class="col-sm-5"><select class="form-select" id="select-quota-type"></select></div></div>');function de(d,n){G(n,!0);let s=U(n,"selected",31,()=>N(it.Office));var c=ce(),v=l(a(c),2),h=a(v);h.__change=[le,s],I(h,21,()=>it.values(),q,(w,i)=>{var b=K(),j=R(b);{var z=k=>{var u=ne(),m={},x=a(u,!0);e(u),D(()=>{m!==(m=t(i))&&(u.value=(u.__value=t(i))==null?"":t(i)),g(x,t(i))}),f(k,u)},F=k=>{var u=ie(),m={},x=a(u,!0);e(u),D(()=>{m!==(m=t(i))&&(u.value=(u.__value=t(i))==null?"":t(i)),g(x,t(i))}),f(k,u)};Y(j,k=>{t(i)==s()?k(z):k(F,!1)})}f(w,b)}),e(h),e(v),e(c),f(d,c),J()}ct(["change"]);var ve=Dt('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"></path></svg>');function ue(d,n){let s=U(n,"size",3,16);var c=ve();D(()=>{M(c,"width",s()),M(c,"height",s())}),f(d,c)}var me=Dt('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"></path></svg>');function pe(d,n){let s=U(n,"size",3,16);var c=me();D(()=>{M(c,"width",s()),M(c,"height",s())}),f(d,c)}function be(d,n,s,c){const v=document.getElementById("inputStart"),h=document.getElementById("inputEnd");if(!v.reportValidity()||!h.reportValidity())return;const w=v.value,i=h.value,b=L.new(t(n),w,i,t(s),!1);try{L.validate(b)}catch{return}t(c).timesheet.push(b),console.log(b),Mt.modified()}function fe(d,n){let s=Ft(t(n),-1);W(`/app/year/${s.getMonth()}/${s.getDate()}/timesheet`)}function _e(d,n){let s=Ft(t(n),1);W(`/app/year/${s.getMonth()}/${s.getDate()}/timesheet`)}function ge(){W("/app/track")}var he=T('<tr><th scope="row"> </th><td> </td><td> </td><td> </td><td> </td><td> </td><td><button type="button" class="btn btn-sm d-flex align-items-center"><!></button></td></tr>'),ye=T('<div class="progress" role="progressbar"><div data-bs-toggle="tooltip" data-bs-placement="bottom"> </div></div>'),xe=T("<tr><td> </td><td> </td><td> </td></tr>"),we=T('<button type="button" class="btn btn-outline-secondary">Switch to tracking</button>'),Te=T('<!> <div class="container mt-3 mb-3"><h1 class="mt-3 mb-3"> </h1> <ul class="nav nav-tabs" id="myTab" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" id="editor-tab" data-bs-toggle="tab" data-bs-target="#editor-tab-pane" type="button" role="tab">Editor</button></li> <li class="nav-item" role="presentation"><button class="nav-link" id="statistics-tab" data-bs-toggle="tab" data-bs-target="#statistics-tab-pane" type="button" role="tab">Statistics</button></li></ul> <div class="tab-content mb-5"><div class="tab-pane show active" id="editor-tab-pane" role="tabpanel" tabindex="0"><h3 class="mt-5 mb-3">Total time</h3> <input type="text" class="form-control" disabled> <h3 class="mt-5 mb-3">All entries</h3> <table class="table"><thead><tr><th scope="col">#</th><th scope="col">Task</th><th scope="col">Start</th><th scope="col">End</th><th scope="col">Duration</th><th scope="col">Location</th><th scope="col">Action</th></tr></thead><tbody></tbody></table> <h3 class="mt-5 mb-3">Insert new entry</h3> <!> <form novalidate=""><div class="row g-2 mb-3"><label for="inputStart" class="col-sm-3 col-form-label">Start</label> <div class="col-sm-5"><input type="text" id="inputStart" class="form-control" required pattern="^(([0-1]?\\d)|(2[0-3])):[0-5]\\d$"></div></div></form> <div class="row g-2 mb-3"><label for="inputEnd" class="col-sm-3 col-form-label">End</label> <div class="col-sm-5"><input type="text" id="inputEnd" class="form-control" required pattern="^(([0-1]?\\d)|(2[0-3])):[0-5]\\d$"></div></div> <!> <div class="row g-2 mb-3"><label for="inputStart" class="col-sm-3 col-form-label"></label> <div class="col-sm-5"><button type="button" class="btn btn-secondary">Add Entry</button></div></div></div> <div class="tab-pane" id="statistics-tab-pane" role="tabpanel" tabindex="0"><h3 class="mt-5 mb-3">Task distrubiton</h3> <div class="progress-stacked mb-3 border" style="height: 50px"><!></div> <h3 class="mt-5 mb-3">Task summary</h3> <table class="table"><thead><tr><th scope="col">Task</th><th scope="col">Duration</th><th scope="col">Share</th></tr></thead><tbody></tbody></table></div></div> <div class="d-flex justify-content-between"><button type="button" class="btn btn-outline-secondary"><!> <span style="vertical-align: middle;">Previous</span></button> <!> <button type="button" class="btn btn-outline-secondary"><span style="vertical-align: middle;">Next</span> <!></button></div></div>',1);function ke(d,n){G(n,!0);const s=X(()=>new Date(Tt.rune.yearLiteral,nt.params.month,nt.params.day)),c=["text-bg-primary","text-bg-success","text-bg-danger","text-bg-warning","text-bg-info","text-bg-light","text-bg-dark"];let v=X(()=>Tt.getDay(t(s))),h=kt(N(it.Home)),w=kt(N(Q.rune[0].name)),i=X(()=>L.aggregateDurations(t(v).timesheet)),b=X(()=>{let o=0;for(const r of t(v).timesheet)o+=L.duration(r);return o});Rt(async()=>{t(i),await Vt(),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(r=>new bootstrap.Tooltip(r)),console.log("Enable tooltips")});function j(){W(`/app/year/${nt.params.month}`)}function z(o){console.log("Remove:",o),t(v).timesheet=t(v).timesheet.filter((r,p)=>p!=o),Mt.modified()}function F(){return Object.values(t(i)).reduce((o,r)=>o+r,0)}function k(o){const r=Q.rune.find(_=>_.name==o);let p="";return r!==void 0&&r.color!=="#FFFFFF"&&(p+=`color: ${Wt(r.color)};`,p+=`background-color: ${r.color};`),p}function u(o,r){const p=Q.rune.find(y=>y.name==o);let _="";return p!==void 0&&p.color==="#FFFFFF"&&(_=`${c[r%c.length]}`),_}var m=Te(),x=R(m);Ut(x,{name:"Timesheet",goBack:j});var C=l(x,2),Z=a(C),Et=a(Z);e(Z);var tt=l(Z,4),et=a(tt),dt=l(a(et),2),at=l(dt,4),vt=l(a(at));I(vt,23,()=>t(v).timesheet,o=>o.taskName,(o,r,p)=>{var _=he(),y=a(_),E=a(y,!0);e(y);var S=l(y),$=a(S,!0);e(S);var A=l(S),H=a(A,!0);e(A);var O=l(A),rt=a(O,!0);e(O);var P=l(O),zt=a(P,!0);e(P);var st=l(P),Bt=a(st,!0);e(st);var xt=l(st),lt=a(xt);lt.__click=()=>{z(t(p))};var Ht=a(lt);Zt(Ht,{colorStyle:"text-danger"}),e(lt),e(xt),e(_),D((Pt,Qt,It)=>{g(E,t(p)+1),g($,t(r).taskName),g(H,Pt),g(rt,Qt),g(zt,It),g(Bt,t(r).qType)},[()=>L.formatTimespamp(t(r).start),()=>L.formatTimespamp(t(r).end),()=>Math.round(L.duration(t(r))*1e4)/1e4]),f(o,_)}),e(vt),e(at);var ut=l(at,4);se(ut,{get selected(){return t(w)},set selected(o){St(w,N(o))}});var mt=l(ut,6);de(mt,{get selected(){return t(h)},set selected(o){St(h,N(o))}});var pt=l(mt,2),bt=l(a(pt),2),At=a(bt);At.__click=[be,w,h,v],e(bt),e(pt),e(et);var ft=l(et,2),ot=l(a(ft),2),Ot=a(ot);{var Lt=o=>{var r=K(),p=R(r);I(p,17,()=>Object.keys(t(i)).sort(),q,(_,y,E)=>{var S=ye(),$=a(S),A=a($,!0);e($),e(S),D((H,O,rt,P)=>{M(S,"style",`width: ${H??""}%; height: 50px;`),Kt($,1,`progress-bar ${O??""}`),M($,"style",rt),M($,"data-bs-title",`${t(y)??""}: ${P??""}%`),g(A,t(y))},[()=>t(i)[t(y)]/F()*100,()=>u(t(y),E),()=>k(t(y)),()=>Math.round(t(i)[t(y)]/F()*1e4)/100]),f(_,S)}),f(o,r)};Y(Ot,o=>{Object.keys(t(i)).length>0&&o(Lt)})}e(ot);var _t=l(ot,4),gt=l(a(_t));I(gt,21,()=>Object.keys(t(i)).sort(),q,(o,r)=>{var p=xe(),_=a(p),y=a(_,!0);e(_);var E=l(_),S=a(E,!0);e(E);var $=l(E),A=a($);e($),e(p),D((H,O)=>{g(y,t(r)),g(S,H),g(A,`${O??""}%`)},[()=>Math.round(t(i)[t(r)]*100)/100,()=>Math.round(t(i)[t(r)]/F()*1e4)/100]),f(o,p)}),e(gt),e(_t),e(ft),e(tt);var ht=l(tt,2),B=a(ht);B.__click=[fe,s];var jt=a(B);ue(jt,{}),Xt(2),e(B);var yt=l(B,2);{var Ct=o=>{var r=we();r.__click=[ge],f(o,r)};Y(yt,o=>{$t(t(s))&&o(Ct)})}var V=l(yt,2);V.__click=[_e,s];var Nt=l(a(V),2);pe(Nt,{}),e(V),e(ht),e(C),D((o,r,p,_)=>{g(Et,`Timesheet for ${o??""}${r??""}.`),M(dt,"placeholder",t(b)),B.disabled=p,V.disabled=_},[()=>Yt(t(s),"E dd MMMM yyyy"),()=>$t(t(s))?" (Today)":"",()=>wt.isFirstDayOfYear(t(s)),()=>wt.isLastDayOfYear(t(s))]),f(d,m),J()}ct(["click"]);function Ye(d,n){G(n,!0);var s=K(),c=R(s);qt(c,()=>Jt.isLoaded(),null,(v,h)=>{ke(v,{})},v=>{Gt(v,{})}),f(d,s),J()}export{Ye as component,Xe as universal};
