import"./Bg9kRutz.js";import{p as E,t as h,s as f,d as u,r as n,b as _,c as P,h as K,f as U,i as s,a as C}from"./DA61WD3S.js";import{d as H,s as M}from"./DwvvTgU3.js";import{s as b,r as O,a as Q}from"./ndif8Qsv.js";import{p as F,c as L,i as B,y as j,f as S,P as T,T as W}from"./E28ZXaGp.js";import{g as X}from"./L4irpWPu.js";import{i as q}from"./D8MQwctJ.js";import{p as R}from"./BxtgH2L7.js";import{I as N}from"./DTXHbV85.js";import{s as Y}from"./BbVpoC1u.js";import{_ as Z,D as A}from"./Drbo5pG0.js";import{N as $}from"./BVYeyYbP.js";function V(c,a,o){console.log(c.target.value),a(c.target.value),o()(c.target.value)}var ee=h("<option selected> </option>"),te=h("<option> </option>"),ae=h('<div class="mb-3"><label for="select-day-type" class="form-label">Type of day</label> <select class="form-select"></select></div>');function oe(c,a){E(a,!0);let o=R(a,"selected",23,()=>F.Regular),k=R(a,"selectedChange",3,()=>{});const v=N.makeDefault();var y=ae(),m=f(u(y),2);b(m,"id",`select-day-type-${v??""}`),m.__change=[V,o,k],L(m,21,()=>F.values(),B,(g,i)=>{var x=K(),w=U(x);{var l=r=>{var e=ee(),t={},p=u(e,!0);n(e),C(D=>{t!==(t=s(i))&&(e.value=(e.__value=s(i))==null?"":s(i)),M(p,D)},[()=>F.toString(s(i))]),_(r,e)},d=r=>{var e=te(),t={},p=u(e,!0);n(e),C(D=>{t!==(t=s(i))&&(e.value=(e.__value=s(i))==null?"":s(i)),M(p,D)},[()=>F.toString(s(i))]),_(r,e)};q(w,r=>{s(i)==o()?r(l):r(d,!1)})}_(g,x)}),n(m),n(y),_(c,y),P()}H(["change"]);var le=(c,a,o)=>a(s(o)),re=h('<li><a class="dropdown-item"> </a></li>'),ie=(c,a,o)=>a(s(o)),se=h('<div><span> </span> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-x-circle ps-2" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"></path></svg></div>'),de=h('<div class="d-flex mt-2"></div>'),ne=h('<div class="mb-3"><label for="select-day-type" class="form-label">Tags</label> <div class="dropdown"><a class="btn btn-outline-secondary dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Add tag...</a> <ul class="dropdown-menu"></ul></div> <!></div>');function ce(c,a){E(a,!0);let o=j.getDay(a.date);N.makeDefault();function k(l){o.tags.filter(r=>r==l.value).length>0||(o.tags.push(l.value),console.log(l),A.modified(o),T.modified())}function v(l){o.tags=o.tags.filter(d=>d!=l),A.modified(o),T.modified()}function y(l){return l.toUpperCase()==="#FFFFFF"?"outline":""}var m=ne(),g=f(u(m),2),i=f(u(g),2);L(i,21,()=>S.rune,B,(l,d)=>{var r=re(),e=u(r);e.__click=[le,k,d];var t=u(e,!0);n(e),n(r),C(()=>M(t,s(d).value)),_(l,r)}),n(i),n(g);var x=f(g,2);{var w=l=>{var d=de();L(d,21,()=>o.tags,B,(r,e)=>{var t=se(),p=u(t),D=u(p,!0);n(p);var I=f(p,2);b(I,"width",22),b(I,"height",22),I.__click=[ie,v,e],n(t),C((z,G,J)=>{Y(t,1,`badge rounded-pill mx-1 d-flex align-items-center ${z??""}`,"svelte-1hey1wl"),b(t,"style",`color: ${G??""}; background-color: ${J??""};`),M(D,s(e))},[()=>y(S.get(s(e)).bgColor),()=>Z(S.get(s(e)).bgColor),()=>S.get(s(e)).bgColor]),_(r,t)}),n(d),_(l,d)};q(x,l=>{o.tags.length>0&&l(w)})}n(m),_(c,m),P()}H(["click"]);var ve=(c,a)=>{X(`/app/year/${a.date.getMonth()}/${a.date.getDate()}/timesheet`)},me=h('<div class="mb-3"><label for="t1" class="form-label">Name</label> <input type="text" class="form-control"></div> <!> <!>  <div class="mb-3"><label class="form-label">Total Time</label> <input type="text" class="form-control" disabled> <button type="button" class="btn btn-outline-secondary mt-3">Switch to timesheet</button></div>',1);function Ce(c,a){E(a,!0);const o=`day-info-${N.makeDefault()}`,k=`time-input-${N.makeDefault()}`;let v=j.getDay(a.date);function y(){let t=0;for(const p of v.timesheet)t+=W.duration(p);return t}var m=me(),g=U(m),i=f(u(g),2);O(i),b(i,"id",o),i.__change=t=>{v.additionalName=t.target.value,A.modified(v),T.modified()},n(g);var x=f(g,2);oe(x,{get selected(){return v.dayType},selectedChange:t=>{v.dayType=t,A.modified(v),T.modified()}});var w=f(x,2);ce(w,{get date(){return a.date}});var l=f(w,2),d=u(l);b(d,"for",k);var r=f(d,2);b(r,"id",k);var e=f(r,2);e.__click=[ve,a],n(l),C(t=>{Q(i,v.additionalName),b(r,"placeholder",t)},[()=>$.toFixed(y(),3)]),_(c,m),P()}H(["change","click"]);export{Ce as D};
