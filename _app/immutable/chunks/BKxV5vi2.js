import{h as T,J as B,b as U,E as Y,$ as x,a0 as M,I as $,G as y,a1 as N,d as O,a2 as p,U as w,g as C,w as F,a3 as G,a4 as Z,a5 as z,A as H,k as I,a6 as D,a7 as J,S as j,a8 as k,a9 as K,aa as Q}from"./B_fWjAJn.js";import{s as V,m as W}from"./-5UQ7fw5.js";import{p as X}from"./BqFMnoIm.js";function ne(e,n,_=!1){T&&B();var t=e,i=null,f=null,u=w,g=_?Y:0,v=!1;const l=(s,r=!0)=>{v=!0,m(r,s)},m=(s,r)=>{if(u===(u=s))return;let d=!1;if(T){const o=t.data===x;!!u===o&&(t=M(),$(t),y(!1),d=!0)}u?(i?N(i):r&&(i=O(()=>r(t))),f&&p(f,()=>{f=null})):(f?N(f):r&&(f=O(()=>r(t))),i&&p(i,()=>{i=null})),d&&y(!0)};U(()=>{v=!1,n(l),v||m(null,null)},g),T&&(t=C)}let S=!1;function ee(e){var n=S;try{return S=!1,[e(),S]}finally{S=n}}function se(e,n,_,t){var L;var i=(_&K)!==0,f=!0,u=(_&J)!==0,g=(_&Q)!==0,v=!1,l;u?[l,v]=ee(()=>e[n]):l=e[n];var m=j in e||k in e,s=u&&(((L=F(e,n))==null?void 0:L.set)??(m&&n in e&&(a=>e[n]=a)))||void 0,r=t,d=!0,o=!1,R=()=>(o=!0,d&&(d=!1,g?r=D(t):r=t),r);l===void 0&&t!==void 0&&(s&&f&&G(),l=R(),s&&s(l));var h;if(h=()=>{var a=e[n];return a===void 0?R():(d=!0,o=!1,a)},!(_&Z))return h;if(s){var q=e.$$legacy;return function(a,c){return arguments.length>0?((!c||q||v)&&s(c?h():a),a):h()}}var A=!1,E=W(l),b=H(()=>{var a=h(),c=I(E);return A?(A=!1,c):E.v=a});return i||(b.equals=z),function(a,c){if(arguments.length>0){const P=c?I(b):u?X(a):a;return b.equals(P)||(A=!0,V(E,P),o&&r!==void 0&&(r=P),D(()=>I(b))),a}return I(b)}}export{ne as i,se as p};
