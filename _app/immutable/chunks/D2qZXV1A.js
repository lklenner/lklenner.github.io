import{h as T,i as B,b as M,E as U,a2 as Y,a3 as x,M as z,K as y,a4 as N,d as O,k as D,U as C,g as F,z as Z,a5 as $,a6 as w,a7 as G,D as H,o as S,a8 as p,a9 as K,S as j,aa as k,ab as J,ac as Q}from"./wEK5ISei.js";import{s as V,m as W}from"./Bz4N5Sz-.js";import{p as X}from"./DZvTi5uQ.js";function ne(e,n,_=!1){T&&B();var t=e,i=null,f=null,u=C,g=_?U:0,v=!1;const l=(s,r=!0)=>{v=!0,m(r,s)},m=(s,r)=>{if(u===(u=s))return;let c=!1;if(T){const o=t.data===Y;!!u===o&&(t=x(),z(t),y(!1),c=!0)}u?(i?N(i):r&&(i=O(()=>r(t))),f&&D(f,()=>{f=null})):(f?N(f):r&&(f=O(()=>r(t))),i&&D(i,()=>{i=null})),c&&y(!0)};M(()=>{v=!1,n(l),v||m(null,null)},g),T&&(t=F)}let I=!1;function ee(e){var n=I;try{return I=!1,[e(),I]}finally{I=n}}function se(e,n,_,t){var L;var i=(_&J)!==0,f=!0,u=(_&K)!==0,g=(_&Q)!==0,v=!1,l;u?[l,v]=ee(()=>e[n]):l=e[n];var m=j in e||k in e,s=u&&(((L=Z(e,n))==null?void 0:L.set)??(m&&n in e&&(a=>e[n]=a)))||void 0,r=t,c=!0,o=!1,R=()=>(o=!0,c&&(c=!1,g?r=p(t):r=t),r);l===void 0&&t!==void 0&&(s&&f&&$(),l=R(),s&&s(l));var b;if(b=()=>{var a=e[n];return a===void 0?R():(c=!0,o=!1,a)},!(_&w))return b;if(s){var q=e.$$legacy;return function(a,d){return arguments.length>0?((!d||q||v)&&s(d?b():a),a):b()}}var A=!1,E=W(l),h=H(()=>{var a=b(),d=S(E);return A?(A=!1,d):E.v=a});return i||(h.equals=G),function(a,d){if(arguments.length>0){const P=d?S(h):u?X(a):a;return h.equals(P)||(A=!0,V(E,P),o&&r!==void 0&&(r=P),p(()=>S(h))),a}return S(h)}}export{ne as i,se as p};
