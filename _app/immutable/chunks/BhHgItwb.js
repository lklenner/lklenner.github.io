import"./Bg9kRutz.js";import{p as B,s as m,c as u,r as d,a as E,f as R,k as i,t as C}from"./DVl1eqIf.js";import{d as P}from"./3pJTpWBv.js";import{t as h,a as _,c as J}from"./BbopcKfd.js";import{s as b,r as K,a as O}from"./BtJF9F5H.js";import{b as F,g as L,i as A,y as U,c as M,P as S,T as Q}from"./D2fgoS12.js";import{g as W}from"./C_VOrKsd.js";import{s as T}from"./UmDqWYja.js";import{p as H,i as j}from"./CPODWPa_.js";import{I as N}from"./DX14NvuP.js";import{s as X}from"./9FSUsWcs.js";import{_ as Y}from"./Cqkky4hu.js";import{N as Z}from"./DlVJgWwC.js";function $(c,a,r){console.log(c.target.value),a(c.target.value),r()(c.target.value)}var V=h("<option selected> </option>"),ee=h("<option> </option>"),te=h('<div class="mb-3"><label for="select-day-type" class="form-label">Type of day</label> <select class="form-select"></select></div>');function ae(c,a){B(a,!0);let r=H(a,"selected",23,()=>F.Regular),x=H(a,"selectedChange",3,()=>{});const f=N.makeDefault();var y=te(),v=m(u(y),2);b(v,"id",`select-day-type-${f??""}`),v.__change=[$,r,x],L(v,21,()=>F.values(),A,(g,s)=>{var k=J(),w=R(k);{var o=l=>{var e=V(),t={},p=u(e,!0);d(e),C(D=>{t!==(t=i(s))&&(e.value=(e.__value=i(s))==null?"":i(s)),T(p,D)},[()=>F.toString(i(s))]),_(l,e)},n=l=>{var e=ee(),t={},p=u(e,!0);d(e),C(D=>{t!==(t=i(s))&&(e.value=(e.__value=i(s))==null?"":i(s)),T(p,D)},[()=>F.toString(i(s))]),_(l,e)};j(w,l=>{i(s)==r()?l(o):l(n,!1)})}_(g,k)}),d(v),d(y),_(c,y),E()}P(["change"]);var oe=(c,a,r)=>a(i(r)),le=h('<li><a class="dropdown-item"> </a></li>'),re=(c,a,r)=>a(i(r)),se=h('<div><span> </span> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-x-circle ps-2" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"></path></svg></div>'),ie=h('<div class="d-flex mt-2"></div>'),ne=h('<div class="mb-3"><label for="select-day-type" class="form-label">Tags</label> <div class="dropdown"><a class="btn btn-outline-secondary dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Add tag...</a> <ul class="dropdown-menu"></ul></div> <!></div>');function de(c,a){B(a,!0);let r=U.getDay(a.date);N.makeDefault();function x(o){r.tags.filter(l=>l==o.value).length>0||(r.tags.push(o.value),console.log(o),S.modified())}function f(o){r.tags=r.tags.filter(n=>n!=o),S.modified()}function y(o){return o.toUpperCase()==="#FFFFFF"?"outline":""}var v=ne(),g=m(u(v),2),s=m(u(g),2);L(s,21,()=>M.rune,A,(o,n)=>{var l=le(),e=u(l);e.__click=[oe,x,n];var t=u(e,!0);d(e),d(l),C(()=>T(t,i(n).value)),_(o,l)}),d(s),d(g);var k=m(g,2);{var w=o=>{var n=ie();L(n,21,()=>r.tags,A,(l,e)=>{var t=se(),p=u(t),D=u(p,!0);d(p);var I=m(p,2);b(I,"width",22),b(I,"height",22),I.__click=[re,f,e],d(t),C((q,z,G)=>{X(t,1,`badge rounded-pill mx-1 d-flex align-items-center ${q??""}`,"svelte-1hey1wl"),b(t,"style",`color: ${z??""}; background-color: ${G??""};`),T(D,i(e))},[()=>y(M.get(i(e)).bgColor),()=>Y(M.get(i(e)).bgColor),()=>M.get(i(e)).bgColor]),_(l,t)}),d(n),_(o,n)};j(k,o=>{r.tags.length>0&&o(w)})}d(v),_(c,v),E()}P(["click"]);var ce=(c,a)=>{W(`/app/year/${a.date.getMonth()}/${a.date.getDate()}/timesheet`)},ve=h('<div class="mb-3"><label for="t1" class="form-label">Name</label> <input type="text" class="form-control"></div> <!> <!>  <div class="mb-3"><label class="form-label">Total Time</label> <input type="text" class="form-control" disabled> <button type="button" class="btn btn-outline-secondary mt-3">Switch to timesheet</button></div>',1);function Ce(c,a){B(a,!0);const r=`day-info-${N.makeDefault()}`,x=`time-input-${N.makeDefault()}`;let f=U.getDay(a.date);function y(){let t=0;for(const p of f.timesheet)t+=Q.duration(p);return t}var v=ve(),g=R(v),s=m(u(g),2);K(s),b(s,"id",r),s.__change=t=>{f.additionalName=t.target.value,S.modified()},d(g);var k=m(g,2);ae(k,{get selected(){return f.dayType},selectedChange:t=>{f.dayType=t,S.modified()}});var w=m(k,2);de(w,{get date(){return a.date}});var o=m(w,2),n=u(o);b(n,"for",x);var l=m(n,2);b(l,"id",x);var e=m(l,2);e.__click=[ce,a],d(o),C(t=>{O(s,f.additionalName),b(l,"placeholder",t)},[()=>Z.toFixed(y(),3)]),_(c,v),E()}P(["change","click"]);export{Ce as D};
