import{h as E,j as x,k as B,ac as U,H as Y,m as M,d as j,o as y,v as N,w as O,x as p,U as w,q as C,V as F,ad as H,ae as Z,af as $,ag as k,g as S,ah as q,ai as z,S as G,aj as V,ak as J,al as K}from"./DxIxdwJJ.js";import{s as Q,m as W}from"./asY5pKAJ.js";import{p as X}from"./DX5c2CDw.js";function ne(e,n,_=!1){E&&x();var t=e,i=null,f=null,u=w,I=_?U:0,v=!1;const l=(s,r=!0)=>{v=!0,b(r,s)},b=(s,r)=>{if(u===(u=s))return;let d=!1;if(E){const o=t.data===Y;!!u===o&&(t=M(),j(t),y(!1),d=!0)}u?(i?N(i):r&&(i=O(()=>r(t))),f&&p(f,()=>{f=null})):(f?N(f):r&&(f=O(()=>r(t))),i&&p(i,()=>{i=null})),d&&y(!0)};B(()=>{v=!1,n(l),v||b(null,null)},I),E&&(t=C)}let g=!1;function ee(e){var n=g;try{return g=!1,[e(),g]}finally{g=n}}function se(e,n,_,t){var L;var i=(_&J)!==0,f=!0,u=(_&z)!==0,I=(_&K)!==0,v=!1,l;u?[l,v]=ee(()=>e[n]):l=e[n];var b=G in e||V in e,s=u&&(((L=F(e,n))==null?void 0:L.set)??(b&&n in e&&(a=>e[n]=a)))||void 0,r=t,d=!0,o=!1,R=()=>(o=!0,d&&(d=!1,I?r=q(t):r=t),r);l===void 0&&t!==void 0&&(s&&f&&H(),l=R(),s&&s(l));var h;if(h=()=>{var a=e[n];return a===void 0?R():(d=!0,o=!1,a)},!(_&Z))return h;if(s){var D=e.$$legacy;return function(a,c){return arguments.length>0?((!c||D||v)&&s(c?h():a),a):h()}}var A=!1,P=W(l),m=k(()=>{var a=h(),c=S(P);return A?(A=!1,c):P.v=a});return i||(m.equals=$),function(a,c){if(arguments.length>0){const T=c?S(m):u?X(a):a;return m.equals(T)||(A=!0,Q(P,T),o&&r!==void 0&&(r=T),q(()=>S(m))),a}return S(m)}}export{ne as i,se as p};
