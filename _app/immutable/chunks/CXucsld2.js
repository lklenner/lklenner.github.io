import{i as E,G as x,h as B,ad as M,J as U,K as Y,m as C,l as N,M as O,N as y,O as p,U as F,o as G,x as Z,ae as $,af as j,ag as w,d as z,g as S,ah as D,ai as H,S as J,aj as K,ak as k,al as Q}from"./DO-sNwcH.js";import{s as V,m as W}from"./DV48Rr-k.js";import{p as X}from"./Lb3gLO7M.js";function ne(e,n,_=!1){E&&x();var t=e,i=null,f=null,u=F,I=_?M:0,v=!1;const l=(s,r=!0)=>{v=!0,b(r,s)},b=(s,r)=>{if(u===(u=s))return;let d=!1;if(E){const o=t.data===U;!!u===o&&(t=Y(),C(t),N(!1),d=!0)}u?(i?O(i):r&&(i=y(()=>r(t))),f&&p(f,()=>{f=null})):(f?O(f):r&&(f=y(()=>r(t))),i&&p(i,()=>{i=null})),d&&N(!0)};B(()=>{v=!1,n(l),v||b(null,null)},I),E&&(t=G)}let g=!1;function ee(e){var n=g;try{return g=!1,[e(),g]}finally{g=n}}function se(e,n,_,t){var L;var i=(_&k)!==0,f=!0,u=(_&H)!==0,I=(_&Q)!==0,v=!1,l;u?[l,v]=ee(()=>e[n]):l=e[n];var b=J in e||K in e,s=u&&(((L=Z(e,n))==null?void 0:L.set)??(b&&n in e&&(a=>e[n]=a)))||void 0,r=t,d=!0,o=!1,R=()=>(o=!0,d&&(d=!1,I?r=D(t):r=t),r);l===void 0&&t!==void 0&&(s&&f&&$(),l=R(),s&&s(l));var h;if(h=()=>{var a=e[n];return a===void 0?R():(d=!0,o=!1,a)},!(_&j))return h;if(s){var q=e.$$legacy;return function(a,c){return arguments.length>0?((!c||q||v)&&s(c?h():a),a):h()}}var A=!1,P=W(l),m=z(()=>{var a=h(),c=S(P);return A?(A=!1,c):P.v=a});return i||(m.equals=w),function(a,c){if(arguments.length>0){const T=c?S(m):u?X(a):a;return m.equals(T)||(A=!0,V(P,T),o&&r!==void 0&&(r=T),D(()=>S(m))),a}return S(m)}}export{ne as i,se as p};
